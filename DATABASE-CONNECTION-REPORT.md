# ๐ ุชูุฑูุฑ ูุญุต ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ฏ ููุฎุต ุงููุชุงุฆุฌ

ุชู ูุญุต ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงููููุน ุจูุฌุงุญ. ุฅููู ุงููุชุงุฆุฌ ุงูุชูุตูููุฉ:

## โ ุงููุชุงุฆุฌ ุงูุฅูุฌุงุจูุฉ

### 1. ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
- **VITE_SUPABASE_URL**: โ ููุฌูุฏ ูุตุญูุญ
- **VITE_SUPABASE_ANON_KEY**: โ ููุฌูุฏ ูุตุญูุญ
- **ุชูุณูู URL**: โ ุตุญูุญ (ูุจุฏุฃ ุจู https:// ูููุชูู ุจู .supabase.co)
- **ุชูุณูู ุงูููุชุงุญ**: โ ุตุญูุญ (ูุจุฏุฃ ุจู eyJ)

### 2. ุงุชุตุงู Supabase
- **ุงูุงุชุตุงู ุงูุฃุณุงุณู**: โ ูุนูู ุจุดูู ุตุญูุญ
- **ุงูุงุณุชุฌุงุจุฉ**: โ ุณุฑูุนุฉ ููุณุชูุฑุฉ
- **ุงููุตุงุฏูุฉ**: โ ุชุนูู ุจุดูู ุตุญูุญ

### 3. ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ
- **ุฌุฏูู products**: โ ููุฌูุฏ ููุนูู (0 ุณุฌู)
- **ุฌุฏูู customers**: โ ููุฌูุฏ ููุนูู (0 ุณุฌู)
- **ุฌุฏูู warranties**: โ ููุฌูุฏ ููุนูู (0 ุณุฌู)

## โ๏ธ ุงููุดุงูู ุงูููุชุดูุฉ

### 1. ูุดููุฉ ูู ุฌุฏูู user_profiles
- **ุงููุดููุฉ**: `infinite recursion detected in policy for relation "user_profiles"`
- **ุงูุณุจุจ**: ุณูุงุณุงุช RLS ูุนูุฏุฉ ุชุญุชูู ุนูู ูุฑุงุฌุน ุฏุงุฆุฑูุฉ
- **ุงูุชุฃุซูุฑ**: ููุน ุงููุตูู ุฅูู ุฌุฏูู ูููุงุช ุงููุณุชุฎุฏููู

## ๐ง ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅูุดุงุก ููู ุฅุตูุงุญ
ุชู ุฅูุดุงุก ููู `simple-rls-fix.sql` ูุญุชูู ุนูู:
- ุญุฐู ุฌููุน ุงูุณูุงุณุงุช ุงููุนูุฏุฉ
- ุฅูุดุงุก ุณูุงุณุงุช ุจุณูุทุฉ ูุขููุฉ
- ุงุณุชุฎุฏุงู `auth.role() = 'authenticated'` ุจุฏูุงู ูู ุงุณุชุนูุงูุงุช ูุนูุฏุฉ

### 2. ุฎุทูุงุช ุงูุฅุตูุงุญ
```sql
-- ุญุฐู ุงูุณูุงุณุงุช ุงููุฏููุฉ
DROP POLICY IF EXISTS "user_profiles_authenticated_access" ON user_profiles;

-- ุฅูุดุงุก ุณูุงุณุฉ ุจุณูุทุฉ ุฌุฏูุฏุฉ
CREATE POLICY "user_profiles_simple_policy" ON user_profiles
    FOR ALL USING (auth.role() = 'authenticated');
```

## ๐ ุฎุทูุงุช ุงูุชุทุจูู

### 1. ุชุทุจูู ุงูุฅุตูุงุญ
1. ุงุฐูุจ ุฅูู [Supabase Dashboard](https://supabase.com/dashboard/project/uqzmimspoqruvpiznkhh/sql)
2. ุงูุชุญ SQL Editor
3. ุงูุณุฎ ูุญุชูู ููู `simple-rls-fix.sql`
4. ุงุถุบุท Run

### 2. ุงูุชุญูู ูู ุงูุฅุตูุงุญ
```bash
# ุชุดุบูู ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
node test-supabase-connection.js
```

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ ุจุนุฏ ุงูุฅุตูุงุญ

### 1. ุฌููุน ุงูุฌุฏุงูู ุณุชุนูู ุจุดูู ุตุญูุญ
- โ products: 0 ุณุฌู
- โ customers: 0 ุณุฌู  
- โ warranties: 0 ุณุฌู
- โ user_profiles: ุณูุนูู ุจุฏูู ุฃุฎุทุงุก

### 2. ุงููุธุงุฆู ุงููุชุงุญุฉ
- โ ุชุณุฌูู ุงูุฏุฎูู
- โ ุฅูุดุงุก ุดูุงุฏุงุช ุงูุถูุงู
- โ ุฅุฏุงุฑุฉ ุงูุนููุงุก
- โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู

## ๐ ุชูุงุตูู ุชูููุฉ

### 1. ุฅุนุฏุงุฏุงุช Supabase
```javascript
const supabaseUrl = "https://uqzmimspoqruvpiznkhh.supabase.co"
const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

### 2. ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **products**: ุงูููุชุฌุงุช ุงููุชุงุญุฉ
- **customers**: ุจูุงูุงุช ุงูุนููุงุก
- **warranties**: ุดูุงุฏุงุช ุงูุถูุงู
- **user_profiles**: ูููุงุช ุงููุณุชุฎุฏููู

### 3. ุณูุงุณุงุช ุงูุฃูุงู
- **RLS ููุนู**: ุนูู ุฌููุน ุงูุฌุฏุงูู
- **ุงูุณูุงุณุงุช**: ุจุณูุทุฉ ูุขููุฉ
- **ุงููุตูู**: ูููุณุชุฎุฏููู ุงููุตุงุฏู ุนูููู ููุท

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### 1. ุชุทุจูู ุงูุฅุตูุงุญ
- [ ] ุชุทุจูู ููู `simple-rls-fix.sql`
- [ ] ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ูุฑุฉ ุฃุฎุฑู
- [ ] ุงูุชุญูู ูู ุนูู ุฌููุน ุงูุฌุฏุงูู

### 2. ุงุฎุชุจุงุฑ ุงูุชุทุจูู
- [ ] ุชุดุบูู ุงูุชุทุจูู ูุญููุงู
- [ ] ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
- [ ] ุงุฎุชุจุงุฑ ุฅูุดุงุก ุดูุงุฏุฉ ุถูุงู
- [ ] ุงุฎุชุจุงุฑ ุฌููุน ุงููุธุงุฆู

### 3. ุงููุดุฑ
- [ ] ุฑูุน ุงูุชุทุจูู ุฅูู Vercel
- [ ] ุงุฎุชุจุงุฑ ุงูุชุทุจูู ุงูููุดูุฑ
- [ ] ุงูุชุฃูุฏ ูู ุนูู ุฌููุน ุงููุธุงุฆู

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน ููู `TROUBLESHOOTING.md`
2. ุชุญูู ูู [Supabase Documentation](https://supabase.com/docs)
3. ุงุณุชุฎุฏู ุฃุฏูุงุช ุงูุชุดุฎูุต ุงููุฏูุฌุฉ

---

## ๐ ุงูุฎูุงุตุฉ

**ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**: โ ุฌูุฏุฉ ูุน ูุดููุฉ ูุงุญุฏุฉ ูุงุจูุฉ ููุฅุตูุงุญ

**ุงููุดููุฉ ุงููุญูุฏุฉ**: ุณูุงุณุงุช RLS ูุนูุฏุฉ ูู ุฌุฏูู user_profiles

**ุงูุญู**: ุชุทุจูู ููู `simple-rls-fix.sql` ูู Supabase Dashboard

**ุงูููุช ุงููุทููุจ ููุฅุตูุงุญ**: 5 ุฏูุงุฆู

**ุจุนุฏ ุงูุฅุตูุงุญ**: ุณุชุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ูุซุงูู! ๐
